Регламент v.0.1.1
===

## Общие

Для чего это надо (если не очень очевидно):

1) Как в любой сфере нужны стандарты
2) Что бы ускорить разработку

Приоритет:

* п1 (**важно**) - Эти правила помогут предотвратить ошибки, поэтому соблюдайте их любой ценой.
* п2 (**настоятельно рекомендуется**) - Эти правила помогут улучшить читаемость. Нарушения должны быть редкими и обоснованными
* п3 (**рекомендуется**) - по этому правилу Вы можете свободно делать другой выбор.
* п4 (**не рекомендуется**) - уже были и/или скорее всего будет "печальные" случай такого решения.

## Редактор

* (п1) Используйте UTF-8 везде (кроме csv для поддержки excel)
* (п2) Для отступов всегда используем два/четыре пробела. Не используем табуляцию.
* (п3) желательно соблюдать 120 символов в строке
* (п3) Отмечайте задачи для списка дел, непонятные места или временный код с помощью **TODO**.
* (п1) **никогда** не используем транскрипцию
* (п3) Для переменных, идентификаторов, классов, функций используем настолько длинные имена, насколько нужно, но настолько короткие, насколько возможно.
* (п2) неочевидные алгоритмы сопровождать комментариями
* (п2) для Языков программирования, файлы классов и имена классов должны начинаться с заглавной буквы, 
в то время как любое другое имя файла (конфигурации, виды, скрипты и т.д.) должны быть в нижнем регистре.
* желательно комментировать часто используемые функции, классы, миксины и т.д.
* (п2) редактор должен поддерживать ".editorconfig" [Один конфиг для редакторов](https://habr.com/ru/post/220131/)

## HTML5
***

* (п1) только !DOCTYPE html
* (п1) Всегда пишите в нижнем регистре. Исключение для "кастомных элементов" framework-ов.
* (п1) Всегда двойные кавычки "
```html
<div class="class" id="id"></div>
```

* (п2) Использовать теги семантически
  * input - элементы кнопок
    * button/checkbox/color/file/hidden/radio/range
    * date/datetime
    * email - для почты, или text
    * tel - для телефона, + pattern.
    * password - для ввода пароля при авторизации
    * text - не использовать для чисел (цен, количество), по возможности прописывать minlength maxlength
    * number - если по умолчанию 0, то при фокусировке очищать значение, по возможности прописывать min max 
  * button - кнопки для формы (по умолчанию писать type="button")
  ```html
   <button type="button"></button>
  ```
  * a - ссылки
* (п3) picture
* (п1) имена классов в camelCase используем только для js, через "-" и _ в css/scss
* (п3) пустыми строками разделяем только логические блоки, избегаем пустых строк просто так
* (п3) допустимо использование препроцессора [pug](https://pugjs.org/api/getting-started.html).
(п4) С Vue не стоит.

#### Атрибуты:
* (п4) tabindex - проставлять только в финальной версии, если не следить будет только хуже.

### Прочее: 
* (п3) комментариями подписывать неочевидные области секции.
* (п3) указывайте высоту, ширину и высоту для изображений
* (п3) Старайтесь соблюдать последовательность атрибутов:
1. Ключевые (без которых тег не имеет смысла) для тегов (кроме src, этот последний)
2. ID и Class
3. все остальные

## CSS3/SCSS
***

* (п3) Верстку начинать с мобильной версии (особенно если сайт для пользователей, а не менеджеров)

* (п2) Каждый новый компонент верстать с мыслями о его многократном использовании.

* (п1) Методология БЭМ + ATOMIC CSS


Файловая архитектура (надо обсуждать/дорабатывать)
* (п2) Придерживаться [примера](df)


* разделяем стили для всех проектов:

1. Base — базовые стили. Это стили основных элементов сайта — body, input, button, ul, ol и т.п. В этой секции используются в основном селекторы тэгов и атрибутов, классы — в исключительных случаях;
   * в этих правилах заводим переменные цветов шрифтов для быстрой смены для каждого проекта
   * можно добавить Normalize.css
   * «!important» использование не допустимо
2. Layout — стили макета. Здесь глобально Также здесь находятся стили глобальных элементов шапки, футера, сайдбара и т.п.
   * в стилях макета прописываем сетку (например вырезанную из bootstrap), позиционирование, отступы (margin/padding)
3. Modules — стили модулей, то есть блоков, которые могут использоваться многократно на разных проектах или одной странице.
   * В модулях активно применяем упрощенный БЭМ.
   * Модуль главный, потом каскадом его элементы и состояния элементов
   * стили состояния - этот раздел, в котором допустимо использование ключевого слова «!important».
4. Theme/Custom — оформление. Здесь описываются стили оформлений индивидуально для проекта.
* Атомарные стили прописать в base, layout и переносить их за собой от проекта к проекту. Допустимо использование ключевого слова «!important»
* Названия атомарных стилей должно четко давать понять что он делает
```css
.margin-left { margin-left: 10px; } /* НЕПРАВИЛЬНО, такое можно написать индивидуально в проекте */
._m-left10 { margin-left: 10px; } /* такой стиль возможно добавить в базовый (еще лучше использовать относительные единицы) */
```
* Названия наших атомарных стилей предлагаю использовать такие же, как в bootstrap (а точнее даже оттуда их и скопировать), не придется писать документацию 
* Используйте сокращенные формы записи свойств, где возможно.
* (п2) Ставим ';' после каждого правила.

```sdf```
### Сокращения:



## javascript
***

* (п1) минимальная версия es2016 (это значит никакого var)
* (п1) только строгий режим "use strict"
* (п2) не использовать глобальные переменные, в объект window добавлять только свойства в виде объектов, как это делает JQuery
* (п2) не переопределять свойства встроенных объектов, кроме объекта Оbject, и в этом случае лучше создавать объект без прототипа (Object.create(null)) 
* (п1) использовать только строгое "===/!=="

### Руководство по стилю:
###### (возможно стоит сделать отдельную страницу)

* [базовый уровень](https://learn.javascript.ru/coding-style)
* [продвинутый - airbnb style](https://leonidlebedev.github.io/javascript-airbnb/)

### Прочее:
* (п2) переменные объявлять в начале функции
* переменные объекты JQ/HtmlNodeElement должны начинаться "$";
* заботится об утечках памяти. (но это не значит что надо 1 объект/переменную на все случаи жизни)
* имена давать в camelCaseStyle
* думать о переходе на typeScript

## php
***

* минимальная версия php 7
* для битрикс: если для модуля отдельная страница делаем отдельным файлом в папке, если модуль на странице с другими - битрикс компонент.
* для wordpress/opencart все делаем через включаемую область
* использовать только строгое "===/!=="
* максимально допустимое количество использование "ECHO" - 1 раз.
* имена файла класса должно совпадать с именем самого класса.
* имена классов всегда должны начинаться с первой заглавной буквы.

## Прочее
***
## git

* Создавать репозиторий, если задача более чем на 1 день.
* Создание своей ветки обязательно. (Можно выкладывать и обновлять одну)
* Имена веток желательно давать понятные что делалось. (можно копировать из таск менеджера)
* Не собирать 9000+ изменений в один коммит
* Не выкладывать в гит: настройки редакторов, свои временные файлы, шрифты, картинки, прочую почти статическую информацию/файлу

## trello

* Подписаться на оповещения.
* Регулярно заглядывать.
* Писать комментарии, собирать вопросы, баги, ошибки, что бы не забыть.

### Руководство по стилю:
###### (возможно стоит сделать отдельную старницу)

* [Основной стандарт](https://world-hello.ru/php/psr/psr-1.html)
* [Руководство по стилю](https://world-hello.ru/php/psr/psr-2.html)
* имена давать в camelCaseStyle 
* файлы *.php не должны содержать закрывающий тег "?>", кроме шаблонов с html-разметкой. (phtml - устарел)
* в рабочем коде не должны использоваться, только исключения и ошибки die()/exit()

## библиотеки/фрэймворки/системы

* cms 1cBitrix/Wordpress/OpenCart/... - и прочие
* Самодельная Vistegra CMS
* Фрэйморки пока не используем - не было столь массового проекта (наверное)
* Normalize.css/Bootstrap - по желанию верстальщика
* jquery - ***НЕ ИСПОЛЬЗОВАТЬ В ФУНКЦИИ КАЛЬКУЛЯТОРА*** использовать только для взаимодействия со страницей, что бы ускорить разработку, например для select/dropdown menu...
* redBeam - работа c БД
* mpdf - формирование pdf для php 7+
* html2pdf - формирование pdf для php на Битрикс
* phpmailer - отправка писем

## Инструменты/СТЭК

* браузер Chrome как основной (желательно проверять Firefox и safari)
* trello - таск-менеджер (отчитываться что делаем, всем кроме Андрея)
* нормальный текстовый редактор/IDE - желательно что-то от jetbrains
* openserver/xampp/php-cli - желательно openserver
* html/pug/... - возможно стоит использовать препроцессор для html
* sass/scss - желательно scss
* webpack/gulp - желательно webpack
* webpack-dev-server - самый удобный liveEditor
* autosave - не лениться и не забывать использовать
* git - ветку мастер, трогаю (пока) только я (Дима)
* babel - по особым требованиям (если клиент требует поддержку старых браузеров, кроме IE)

---
###### всё обсуждаемо
###### _vistegra 2020_
