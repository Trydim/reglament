Регламент v.0.2.1
===

## Общие

Для чего это надо (если не очень очевидно):

1) Как в любой сфере нужны стандарты
2) Что бы ускорить разработку

Приоритет:

* п1 (**важно**) - Эти правила помогут предотвратить ошибки, поэтому соблюдайте их любой ценой.
* п2 (**настоятельно рекомендуется**) - Эти правила помогут улучшить читаемость. Нарушения должны быть редкими и обоснованными
* п3 (**рекомендуется**) - по этому правилу Вы можете свободно делать другой выбор.
* п4 (**не рекомендуется**) - уже были и/или скорее всего будет "печальные" случай такого решения.

## Редактор

* (п1) Используйте UTF-8 везде (кроме csv для поддержки excel) (для *.php без BOM)
* (п2) Для отступов всегда используем два/четыре пробела. Не используем табуляцию.
* (п3) желательно соблюдать 120 символов в строке
* (п3) Отмечайте задачи для списка дел, непонятные места или временный код с помощью **TODO**.
* (п1) **никогда** не используем транскрипцию
* (п3) Для переменных, идентификаторов, классов, функций используем настолько длинные имена, насколько нужно, но настолько короткие, насколько возможно.
* (п2) неочевидные алгоритмы сопровождать комментариями
* (п2) для Языков программирования, файлы классов и имена классов должны начинаться с заглавной буквы, 
в то время как любое другое имя файла (конфигурации, виды, скрипты и т.д.) должны быть в нижнем регистре.
* желательно комментировать часто используемые функции, классы, миксины и т.д.
* (п2) редактор должен поддерживать ".editorconfig" [Один конфиг для редакторов](https://habr.com/ru/post/220131/)

## HTML5
***

* (п1) только !DOCTYPE html
* (п1) Всегда пишите в нижнем регистре. Исключение для "кастомных элементов" framework-ов.
* (п1) Всегда двойные кавычки "
```html
<div class="class" id="id"></div>
```

* (п2) Использовать теги семантически
  * input - элементы кнопок
    * button/checkbox/color/file/hidden/radio/range
    * date/datetime
    * email - для почты, или text
    * tel - для телефона, + pattern.
    * password - для ввода пароля при авторизации
    * text - не использовать для чисел (цен, количество), по возможности прописывать minlength maxlength
    * number - если по умолчанию 0, то при фокусировке очищать значение, по возможности прописывать min max 
  * button - кнопки для формы (по умолчанию писать type="button")
  ```html
   <button type="button"></button>
  ```
  * a - ссылки
* (п3) picture/img? (по взрослому)
* (п1) имена классов в camelCase используем только для js, через "-" и _ в css/scss
* "Не захламлять" классами: **обсудить**
    1. (п3) стараемся не прописывать более трех классов БЭМ.
    2. (п3) стараемся не прописывать более двух атомарных правил.
* (п3) Не использовать стили inline
* (п3) пустыми строками разделяем только логические блоки, избегаем пустых строк просто так
* (п3) допустимо использование препроцессора [pug](https://pugjs.org/api/getting-started.html).
(п4) С Vue не стоит.

#### Атрибуты:
* (п4) tabindex - проставлять только в финальной версии, если не следить будет только хуже.

### Прочее: 
* (п3) комментариями подписывать неочевидные области секции.
* (п3) указывайте высоту, ширину и высоту для изображений
* (п3) Старайтесь соблюдать последовательность атрибутов:
1. Ключевые (без которых тег не имеет смысла) для тегов (кроме src, этот последний)
2. ID и Class
3. все остальные

## CSS3/SCSS
***

* (п1) Методология БЭМ + ATOMIC CSS (на примере materialize/**bootstrap**/tailwind)
* (п3) Верстку начинать с мобильной версии (особенно если сайт для пользователей, а не менеджеров)
* (п2) Каждый новый компонент верстать с мыслями о его многократном использовании.
* (п2) Ставим ';' после каждого правила.
* (п3) Для атомарных стилей (1 класс=1 правило) допустимо использование ключевого слова «!important»
* (п1) Названия атомарных стилей должно четко давать понять что он делает, не придется писать документацию
```css
.margin-left { margin-left: 10px; } /* НЕПРАВИЛЬНО, такое можно написать индивидуально в проекте */
._m-left10 { margin-left: 10px; } /* такой стиль возможно добавить в базовый (еще лучше использовать относительные единицы) */
```
* (п3) Используйте сокращенные формы записи свойств, где возможно. (ide storm подскажет)

## В планах
* (п2) Писать дополнять библиотеку, писать инструкцию, комментировать
* (п2) Завести страницу на vistegra со всеми элементами(таблица стилей/styleGuide).

### Надо обсуждать/дорабатывать:
* (п1) Не стилизовать теги на прямую, исключение для "normalize". [Правило БЭМ](https://ru.bem.info/methodology/css/#%D1%81%D0%B5%D0%BB%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D1%8B)
* (п2) Файловая структура, придерживаться [примера](css/scss)
* (п1) В модулях активно применяем согласованный [БЭМ](css/scss).
* (п3) пустые классы (без правил) допустимо опустить. Исключаем правило ["каждый HTML-элемент должен иметь class"](https://ru.bem.info/methodology/css/#%D1%81%D0%B5%D0%BB%D0%B5%D0%BA%D1%82%D0%BE%D1%80%D1%8B-%D0%BA%D0%BB%D0%B0%D1%81%D1%81%D0%BE%D0%B2)


## javascript
***

* (п1) минимальная версия es2016 (это значит никакого var)
* (п1) только строгий режим "use strict"
* (п1) использовать только строгое "===/!=="
* (п2) не использовать глобальные переменные, в объект window добавлять только свойства в виде объектов, как это делает JQuery
* (п2) не переопределять свойства встроенных объектов.
* (п2) не использовать **никакие** библиотеки внутри расчетов калькулятора. Все переменные и значения готовить заранее. [Подробности](js)
* (п3) [Не писать то что уже написано](js), а если то что написано не подходит, попробовать переделать, что бы подходило.


### Руководство по стилю (обсуждать/дорабатывать):
* (п1) [Следовать руководству](js)

## php
***

* (п1) минимальная версия php 7
* (п1) использовать только строгое "===/!=="
* (п1) максимально допустимое количество использование "ECHO" - 1 раз.
* (п1) имена файла класса должно совпадать с именем самого класса.
* (п1) имена классов всегда должны начинаться с первой заглавной буквы.
* (п1) Все PHP файлы (и не только) заканчивать одной пустой строкой. (настройки выставить в редакторе)

### Руководство по стилю (обсуждать/дорабатывать):
* (п1) [Следовать руководству](php)

## Прочее
***
## git

* (п1) Создавать репозиторий, если задача более чем на 1 день.
* (п1) Создание своей ветки обязательно. (Можно выкладывать и обновлять одну)
* (п2) Префикс исполнителя очень желателен 
* (п1) Описания коммитов давать понятные, что делалось. (можно копировать из таск менеджера)
* (п2) Не собирать 9000+ изменений в один коммит
* (п1) Не выкладывать в гит: настройки редакторов, свои временные файлы, шрифты, картинки, прочую почти статическую информацию/файлу

## jira

* Подписаться на оповещения.
* Регулярно заглядывать.
* Писать комментарии, собирать вопросы, баги, ошибки, что бы не забыть.

## Библиотеки/frameworks/системы/СТЭК

* (п4 😉 ) Самодельная Vistegra CMS
* (п1) Изучать/предлагать готовые решения, в том числе и платные (Андрей разрешил до 4$).
* frontend-framework [alpineJs](https://alpinejs.dev) - для простых проектов. 
* frontend-framework [Vue](https://v3.vuejs.org) - рекомендуется для любых текущих проектов.
* Normalize.css/[Bootstrap](https://getbootstrap.com) - по желанию ключевого верстальщика по данному проекту
* (п4) jquery - ***НЕ ИСПОЛЬЗОВАТЬ В ФУНКЦИИ КАЛЬКУЛЯТОРА*** использовать только для взаимодействия со страницей, что бы ускорить разработку, например для select/dropdown menu...
* backend-ORM [redBeam](https://redbeam.com) - работа c БД
* backend-library [mpdf](https://mpdf.github.io/) - формирование pdf для php 7+
* backend-library [html2pdf](https://ekoopmans.github.io/html2pdf.js/) - формирование pdf для php (например для Битрикс, хотя там есть и своя),
* backend-library phpmailer - отправка писем
* препроцессор sass/scss - желательно scss
* сборщик webpack/gulp - желательно webpack

## Инструменты(индивидуально)

* браузер Chrome как основной (желательно проверять Firefox и safari)
* jira - task-менеджер (отчитываться что делаем, всем кроме Андрея)
* нормальный текстовый редактор/IDE - желательно что-то от "jetBrains"
* openserver/xampp/php-cli - желательно openserver
* html/pug/... - возможно стоит использовать препроцессор для html 
* webpack-dev-server - самый удобный liveEditor
* autosave - не лениться и не забывать использовать
* git - ветку мастер обновляет ключевой разработчик по проекту.
* babel - по особым требованиям (если клиент требует поддержку старых браузеров, кроме IE)

---
###### всё обсуждаемо
###### _vistegra 2022_
